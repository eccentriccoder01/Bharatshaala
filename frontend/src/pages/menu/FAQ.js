// Comprehensive FAQ Page for Bharatshaala Platform
import React, { useState, useEffect } from 'react';
import { Helmet } from 'react-helmet-async';
import { useAnalytics } from '../../utils/analytics';
import { useDebounce } from '../../hooks/useDebounce';
import { motion, AnimatePresence } from 'framer-motion';

const FAQ = () => {
  const { trackPageView, trackEvent } = useAnalytics();
  const [activeCategory, setActiveCategory] = useState('general');
  const [searchQuery, setSearchQuery] = useState('');
  const [debouncedSearch] = useDebounce(searchQuery, 300);
  const [expandedItems, setExpandedItems] = useState(new Set());
  const [votedItems, setVotedItems] = useState(new Set());

  useEffect(() => {
    trackPageView('faq');
  }, [trackPageView]);

  const categories = [
    { id: 'general', name: 'рд╕рд╛рдорд╛рдиреНрдп', icon: 'тЭУ' },
    { id: 'orders', name: 'рдСрд░реНрдбрд░ рдФрд░ рд╢рд┐рдкрд┐рдВрдЧ', icon: 'ЁЯУж' },
    { id: 'payments', name: 'рднреБрдЧрддрд╛рди', icon: 'ЁЯТ│' },
    { id: 'returns', name: 'рд░рд┐рдЯрд░реНрди рдФрд░ рд░рд┐рдлрдВрдб', icon: 'тЖйя╕П' },
    { id: 'vendors', name: 'рд╡рд┐рдХреНрд░реЗрддрд╛', icon: 'ЁЯПк' },
    { id: 'account', name: 'рдЦрд╛рддрд╛ рдФрд░ рдкреНрд░реЛрдлрд╛рдЗрд▓', icon: 'ЁЯСд' },
    { id: 'technical', name: 'рддрдХрдиреАрдХреА рд╕рд╣рд╛рдпрддрд╛', icon: 'ЁЯФз' },
    { id: 'security', name: 'рд╕реБрд░рдХреНрд╖рд╛ рдФрд░ рдЧреЛрдкрдиреАрдпрддрд╛', icon: 'ЁЯФТ' }
  ];

  const faqData = {
    general: [
      {
        id: 'what-is-bharatshaala',
        question: 'рднрд╛рд░рддрд╢рд╛рд▓рд╛ рдХреНрдпрд╛ рд╣реИ?',
        answer: 'рднрд╛рд░рддрд╢рд╛рд▓рд╛ рднрд╛рд░рдд рдХрд╛ рд╕рдмрд╕реЗ рдмрдбрд╝рд╛ рд╣рд╕реНрддрд╢рд┐рд▓реНрдк рдорд╛рд░реНрдХреЗрдЯрдкреНрд▓реЗрд╕ рд╣реИ рдЬреЛ рдкреНрд░рд╛рдорд╛рдгрд┐рдХ рд╣рд╕реНрддрдирд┐рд░реНрдорд┐рдд рдЙрддреНрдкрд╛рджреЛрдВ рдХреЛ рдХрд╛рд░реАрдЧрд░реЛрдВ рд╕реЗ рд╕реАрдзреЗ рдЧреНрд░рд╛рд╣рдХреЛрдВ рддрдХ рдкрд╣реБрдВрдЪрд╛рддрд╛ рд╣реИред',
        tags: ['about', 'platform', 'handicrafts'],
        helpful: 89,
        notHelpful: 5
      },
      {
        id: 'how-to-start-shopping',
        question: 'рдореИрдВ рдЦрд░реАрджрд╛рд░реА рдХреИрд╕реЗ рд╢реБрд░реВ рдХрд░реВрдВ?',
        answer: 'рдЦрд░реАрджрд╛рд░реА рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП: 1) рдЕрдХрд╛рдЙрдВрдЯ рдмрдирд╛рдПрдВ рдпрд╛ рд▓реЙрдЧрд┐рди рдХрд░реЗрдВ 2) рдЙрддреНрдкрд╛рдж рдмреНрд░рд╛рдЙрдЬрд╝ рдХрд░реЗрдВ рдпрд╛ рд╕рд░реНрдЪ рдХрд░реЗрдВ 3) рдкрд╕рдВрджреАрджрд╛ рдЖрдЗрдЯрдо рдХрд╛рд░реНрдЯ рдореЗрдВ рдЬреЛрдбрд╝реЗрдВ 4) рдЪреЗрдХрдЖрдЙрдЯ рдХрд░рдХреЗ рдСрд░реНрдбрд░ рдкреВрд░рд╛ рдХрд░реЗрдВред',
        tags: ['shopping', 'getting-started', 'account'],
        helpful: 156,
        notHelpful: 12
      },
      {
        id: 'product-authenticity',
        question: 'рдЙрддреНрдкрд╛рджреЛрдВ рдХреА рдкреНрд░рд╛рдорд╛рдгрд┐рдХрддрд╛ рдХреИрд╕реЗ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХреА рдЬрд╛рддреА рд╣реИ?',
        answer: 'рд╣рдорд╛рд░реА рдЯреАрдо рд╣рд░ рдЙрддреНрдкрд╛рдж рдХреА рдЧреБрдгрд╡рддреНрддрд╛ рдЬрд╛рдВрдЪрддреА рд╣реИред рд╕рднреА рдХрд╛рд░реАрдЧрд░ рд╡реЗрд░рд┐рдлрд╛рдЗрдб рд╣реИрдВ рдФрд░ рдЙрддреНрдкрд╛рджреЛрдВ рдХреА рддрд╕реНрд╡реАрд░реЗрдВ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╣реИрдВред рд╣рдорд╛рд░реА рдкреНрд░рд╛рдорд╛рдгрд┐рдХрддрд╛ рдЧрд╛рд░рдВрдЯреА рдХреЗ рд╕рд╛рде рдЦрд░реАрджрд╛рд░реА рдХрд░реЗрдВред',
        tags: ['authenticity', 'quality', 'verification'],
        helpful: 203,
        notHelpful: 8
      }
    ],
    orders: [
      {
        id: 'track-order',
        question: 'рдореИрдВ рдЕрдкрдирд╛ рдСрд░реНрдбрд░ рдХреИрд╕реЗ рдЯреНрд░реИрдХ рдХрд░реВрдВ?',
        answer: 'рдСрд░реНрдбрд░ рдЯреНрд░реИрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП: 1) рдЕрдкрдиреЗ рдЕрдХрд╛рдЙрдВрдЯ рдореЗрдВ рд▓реЙрдЧрд┐рди рдХрд░реЗрдВ 2) "рдореЗрд░реЗ рдСрд░реНрдбрд░реНрд╕" рдкрд░ рдЬрд╛рдПрдВ 3) рдСрд░реНрдбрд░ рдирдВрдмрд░ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред рдЖрдкрдХреЛ SMS рдФрд░ рдИрдореЗрд▓ рд╕реЗ рднреА рдЕрдкрдбреЗрдЯ рдорд┐рд▓реЗрдВрдЧреЗред',
        tags: ['tracking', 'orders', 'updates'],
        helpful: 245,
        notHelpful: 15
      },
      {
        id: 'delivery-time',
        question: 'рдбрд┐рд▓реАрд╡рд░реА рдореЗрдВ рдХрд┐рддрдирд╛ рд╕рдордп рд▓рдЧрддрд╛ рд╣реИ?',
        answer: 'рд╕рд╛рдорд╛рдиреНрдпрддрдГ 3-7 рдХрд╛рд░реНрдп рджрд┐рд╡рд╕ред рдПрдХреНрд╕рдкреНрд░реЗрд╕ рдбрд┐рд▓реАрд╡рд░реА 1-2 рджрд┐рди рдореЗрдВред рдЧреНрд░рд╛рдореАрдг рдХреНрд╖реЗрддреНрд░реЛрдВ рдореЗрдВ 7-10 рджрд┐рди рддрдХ рд▓рдЧ рд╕рдХрддреЗ рд╣реИрдВред рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдЪреЗрдХрдЖрдЙрдЯ рдХреЗ рд╕рдордп рджрд┐рдЦрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред',
        tags: ['delivery', 'shipping', 'time'],
        helpful: 189,
        notHelpful: 23
      },
      {
        id: 'modify-order',
        question: 'рдХреНрдпрд╛ рдореИрдВ рдСрд░реНрдбрд░ рдХреЛ рдореЙрдбрд┐рдлрд╛рдИ рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВ?',
        answer: 'рд╢рд┐рдкрд┐рдВрдЧ рд╕реЗ рдкрд╣рд▓реЗ рдСрд░реНрдбрд░ рдореЙрдбрд┐рдлрд╛рдИ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред "рдореЗрд░реЗ рдСрд░реНрдбрд░реНрд╕" рдореЗрдВ рдЬрд╛рдХрд░ "рдСрд░реНрдбрд░ рдПрдбрд┐рдЯ рдХрд░реЗрдВ" рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред рд╢рд┐рдк рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж рдХреЗрд╡рд▓ рдХреИрдВрд╕рд┐рд▓реЗрд╢рди рд╕рдВрднрд╡ рд╣реИред',
        tags: ['modify', 'edit', 'cancel'],
        helpful: 134,
        notHelpful: 28
      }
    ],
    payments: [
      {
        id: 'payment-methods',
        question: 'рдХреМрди рд╕реЗ рдкреЗрдореЗрдВрдЯ рдореЗрдердб рдЙрдкрд▓рдмреНрдз рд╣реИрдВ?',
        answer: 'UPI, рдХреНрд░реЗрдбрд┐рдЯ/рдбреЗрдмрд┐рдЯ рдХрд╛рд░реНрдб, рдиреЗрдЯ рдмреИрдВрдХрд┐рдВрдЧ, рдбрд┐рдЬрд┐рдЯрд▓ рд╡реЙрд▓реЗрдЯреНрд╕ (Paytm, PhonePe), рдФрд░ рдХреИрд╢ рдСрди рдбрд┐рд▓реАрд╡рд░реАред рд╕рднреА рдкреЗрдореЗрдВрдЯреНрд╕ SSL рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдФрд░ рд╕реБрд░рдХреНрд╖рд┐рдд рд╣реИрдВред',
        tags: ['payment', 'methods', 'security'],
        helpful: 178,
        notHelpful: 9
      },
      {
        id: 'payment-security',
        question: 'рдкреЗрдореЗрдВрдЯ рдХрд┐рддрдиреА рд╕реБрд░рдХреНрд╖рд┐рдд рд╣реИ?',
        answer: 'рд╣рдо 256-bit SSL рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдФрд░ PCI DSS рдХреЙрдореНрдкреНрд▓рд╛рдпрдВрдЯ рдЧреЗрдЯрд╡реЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред рдЖрдкрдХреА рдХрд╛рд░реНрдб рдбрд┐рдЯреЗрд▓реНрд╕ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рд╕реНрдЯреЛрд░ рдирд╣реАрдВ рд╣реЛрддреАред рд╕рднреА рдЯреНрд░рд╛рдВрдЬреИрдХреНрд╢рди рдмреИрдВрдХ рдЧреНрд░реЗрдб рд╕рд┐рдХреНрдпреЛрд░рд┐рдЯреА рдХреЗ рд╕рд╛рдеред',
        tags: ['security', 'encryption', 'privacy'],
        helpful: 267,
        notHelpful: 6
      },
      {
        id: 'payment-failure',
        question: 'рдкреЗрдореЗрдВрдЯ рдлреЗрд▓ рд╣реЛрдиреЗ рдкрд░ рдХреНрдпрд╛ рдХрд░реВрдВ?',
        answer: 'рдкреЗрдореЗрдВрдЯ рдлреЗрд▓ рд╣реЛрдиреЗ рдкрд░: 1) рдЗрдВрдЯрд░рдиреЗрдЯ рдХрдиреЗрдХреНрд╢рди рдЪреЗрдХ рдХрд░реЗрдВ 2) рдЕрдХрд╛рдЙрдВрдЯ рдмреИрд▓реЗрдВрд╕ рд╡реЗрд░рд┐рдлрд╛рдИ рдХрд░реЗрдВ 3) рджреВрд╕рд░рд╛ рдкреЗрдореЗрдВрдЯ рдореЗрдердб рдЯреНрд░рд╛рдИ рдХрд░реЗрдВ 4) рдЕрдЧрд░ рд╕рдорд╕реНрдпрд╛ рдмрдиреА рд░рд╣реЗ рддреЛ рд╕рдкреЛрд░реНрдЯ рд╕реЗ рд╕рдВрдкрд░реНрдХ рдХрд░реЗрдВред',
        tags: ['payment-failure', 'troubleshooting', 'support'],
        helpful: 145,
        notHelpful: 31
      }
    ],
    returns: [
      {
        id: 'return-policy',
        question: 'рд░рд┐рдЯрд░реНрди рдкреЙрд▓рд┐рд╕реА рдХреНрдпрд╛ рд╣реИ?',
        answer: '7 рджрд┐рди рдХрд╛ рд░рд┐рдЯрд░реНрди рдкреЙрд▓рд┐рд╕реАред рдЙрддреНрдкрд╛рдж рдЕрдиреБрдкрдпреЛрдЧреНрдп рдХрдВрдбреАрд╢рди рдореЗрдВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред рдореВрд▓ рдкреИрдХреЗрдЬрд┐рдВрдЧ рдФрд░ рдЯреИрдЧреНрд╕ рдХреЗ рд╕рд╛рдеред рдбреИрдореЗрдЬ/рдЧрд▓рдд рдЖрдЗрдЯрдо рдХреЗ рд▓рд┐рдП рдлреНрд░реА рд░рд┐рдЯрд░реНрди, рдЕрдиреНрдпрдерд╛ тВ╣50 рдЪрд╛рд░реНрдЬред',
        tags: ['return', 'policy', 'conditions'],
        helpful: 212,
        notHelpful: 18
      },
      {
        id: 'initiate-return',
        question: 'рд░рд┐рдЯрд░реНрди рдХреИрд╕реЗ рдХрд░реВрдВ?',
        answer: 'рд░рд┐рдЯрд░реНрди рдХреЗ рд▓рд┐рдП: 1) "рдореЗрд░реЗ рдСрд░реНрдбрд░реНрд╕" рдореЗрдВ рдЬрд╛рдПрдВ 2) "рд░рд┐рдЯрд░реНрди" рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ 3) рд░реАрдЬрд╝рди рд╕реЗрд▓реЗрдХреНрдЯ рдХрд░реЗрдВ 4) рдкрд┐рдХрдЕрдк рд╢реЗрдбреНрдпреВрд▓ рдХрд░реЗрдВред рд░рд┐рдлрдВрдб 5-7 рдХрд╛рд░реНрдп рджрд┐рд╡рд╕реЛрдВ рдореЗрдВ рдорд┐рд▓реЗрдЧрд╛ред',
        tags: ['return-process', 'refund', 'pickup'],
        helpful: 156,
        notHelpful: 24
      },
      {
        id: 'refund-time',
        question: 'рд░рд┐рдлрдВрдб рдореЗрдВ рдХрд┐рддрдирд╛ рд╕рдордп рд▓рдЧрддрд╛ рд╣реИ?',
        answer: 'рд░рд┐рдЯрд░реНрди рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдХреЗ рдмрд╛рдж 5-7 рдХрд╛рд░реНрдп рджрд┐рд╡рд╕ред UPI/рд╡реЙрд▓реЗрдЯ рдореЗрдВ 1-2 рджрд┐рди, рдмреИрдВрдХ рдЕрдХрд╛рдЙрдВрдЯ рдореЗрдВ 5-7 рджрд┐рдиред рдХреНрд░реЗрдбрд┐рдЯ рдХрд╛рд░реНрдб рдореЗрдВ 7-14 рджрд┐рди рддрдХ рдХрд╛ рд╕рдордп рд▓рдЧ рд╕рдХрддрд╛ рд╣реИред',
        tags: ['refund', 'timeline', 'processing'],
        helpful: 187,
        notHelpful: 22
      }
    ],
    vendors: [
      {
        id: 'become-vendor',
        question: 'рдореИрдВ рд╡рд┐рдХреНрд░реЗрддрд╛ рдХреИрд╕реЗ рдмрдиреВрдВ?',
        answer: 'рд╡рд┐рдХреНрд░реЗрддрд╛ рдмрдирдиреЗ рдХреЗ рд▓рд┐рдП: 1) "рд╡рд┐рдХреНрд░реЗрддрд╛ рд░рдЬрд┐рд╕реНрдЯреНрд░реЗрд╢рди" рдкрд░ рдЬрд╛рдПрдВ 2) рдмрд┐рдЬрд╝рдиреЗрд╕ рдбрд┐рдЯреЗрд▓реНрд╕ рднрд░реЗрдВ 3) рдбреЙрдХреНрдпреВрдореЗрдВрдЯреНрд╕ рдЕрдкрд▓реЛрдб рдХрд░реЗрдВ 4) рд╡реЗрд░рд┐рдлрд┐рдХреЗрд╢рди рдХрд╛ рдЗрдВрддрдЬрд╝рд╛рд░ рдХрд░реЗрдВред рдЕрдкреНрд░реВрд╡рд▓ рдореЗрдВ 2-3 рджрд┐рди рд▓рдЧрддреЗ рд╣реИрдВред',
        tags: ['vendor-registration', 'business', 'approval'],
        helpful: 298,
        notHelpful: 14
      },
      {
        id: 'vendor-commission',
        question: 'рд╡рд┐рдХреНрд░реЗрддрд╛ рдХрдореАрд╢рди рдХрд┐рддрдирд╛ рд╣реИ?',
        answer: 'рдХрдореАрд╢рди 5-15% рддрдХ, рдХреИрдЯреЗрдЧрд░реА рдХреЗ рдЕрдиреБрд╕рд╛рд░ред рд╣рд╕реНрддрд╢рд┐рд▓реНрдк рдореЗрдВ 5-8%, рдЗрд▓реЗрдХреНрдЯреНрд░реЙрдирд┐рдХреНрд╕ рдореЗрдВ 10-15%ред рдХреЛрдИ рдЬреЙрдЗрдирд┐рдВрдЧ рдлреАрд╕ рдирд╣реАрдВред рд╡реЙрд▓реНрдпреВрдо рдбрд┐рд╕реНрдХрд╛рдЙрдВрдЯ рднреА рдЙрдкрд▓рдмреНрдзред',
        tags: ['commission', 'fees', 'pricing'],
        helpful: 234,
        notHelpful: 19
      },
      {
        id: 'vendor-payment',
        question: 'рд╡рд┐рдХреНрд░реЗрддрд╛ рдкреЗрдореЗрдВрдЯ рдХрдм рдорд┐рд▓рддрд╛ рд╣реИ?',
        answer: 'рдСрд░реНрдбрд░ рдбрд┐рд▓реАрд╡рд░ рд╣реЛрдиреЗ рдХреЗ 7 рджрд┐рди рдмрд╛рджред рд░рд┐рдЯрд░реНрди рдкреАрд░рд┐рдпрдб рдЦрддреНрдо рд╣реЛрдиреЗ рдкрд░ рдкреЗрдореЗрдВрдЯ рд░рд┐рд▓реАрдЬрд╝ рд╣реЛрддрд╛ рд╣реИред рд╣рд░ рдЧреБрд░реБрд╡рд╛рд░ рдХреЛ рдкреЗрдореЗрдВрдЯ рдЯреНрд░рд╛рдВрд╕рдлрд░ рдХреА рдЬрд╛рддреА рд╣реИред',
        tags: ['vendor-payment', 'settlement', 'timeline'],
        helpful: 167,
        notHelpful: 12
      }
    ],
    account: [
      {
        id: 'create-account',
        question: 'рдЕрдХрд╛рдЙрдВрдЯ рдХреИрд╕реЗ рдмрдирд╛рдПрдВ?',
        answer: 'рдЕрдХрд╛рдЙрдВрдЯ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП: 1) "рд╕рд╛рдЗрди рдЕрдк" рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ 2) рдореЛрдмрд╛рдЗрд▓/рдИрдореЗрд▓ рджрд░реНрдЬ рдХрд░реЗрдВ 3) OTP рд╡реЗрд░рд┐рдлрд╛рдИ рдХрд░реЗрдВ 4) рдкреНрд░реЛрдлрд╛рдЗрд▓ рдХреЙрдореНрдкреНрд▓реАрдЯ рдХрд░реЗрдВред рд╕реЛрд╢рд▓ рд▓реЙрдЧрд┐рди рднреА рдЙрдкрд▓рдмреНрдз рд╣реИред',
        tags: ['account-creation', 'signup', 'verification'],
        helpful: 189,
        notHelpful: 11
      },
      {
        id: 'forgot-password',
        question: 'рдкрд╛рд╕рд╡рд░реНрдб рднреВрд▓ рдЧрдпрд╛ рд╣реВрдВ, рдХреНрдпрд╛ рдХрд░реВрдВ?',
        answer: 'рд▓реЙрдЧрд┐рди рдкреЗрдЬ рдкрд░ "рдкрд╛рд╕рд╡рд░реНрдб рднреВрд▓ рдЧрдП?" рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред рдореЛрдмрд╛рдЗрд▓/рдИрдореЗрд▓ рджрд░реНрдЬ рдХрд░реЗрдВред OTP рдХреЗ рд╕рд╛рде рдирдпрд╛ рдкрд╛рд╕рд╡рд░реНрдб рд╕реЗрдЯ рдХрд░реЗрдВред',
        tags: ['forgot-password', 'reset', 'otp'],
        helpful: 145,
        notHelpful: 8
      },
      {
        id: 'update-profile',
        question: 'рдкреНрд░реЛрдлрд╛рдЗрд▓ рдХреЛ рдЕрдкрдбреЗрдЯ рдХреИрд╕реЗ рдХрд░реВрдВ?',
        answer: 'рдЕрдХрд╛рдЙрдВрдЯ рдореЗрдВ рд▓реЙрдЧрд┐рди рдХрд░реЗрдВ тЖТ "рдореЗрд░реА рдкреНрд░реЛрдлрд╛рдЗрд▓" тЖТ "рдПрдбрд┐рдЯ рдкреНрд░реЛрдлрд╛рдЗрд▓"ред рдирд╛рдо, рдИрдореЗрд▓, рдлреЛрди, рдкрддрд╛ рдЕрдкрдбреЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдХреБрдЫ рдЪреЗрдВрдЬреЗрд╕ рдореЗрдВ рд╡реЗрд░рд┐рдлрд┐рдХреЗрд╢рди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИред',
        tags: ['profile-update', 'edit', 'verification'],
        helpful: 123,
        notHelpful: 16
      }
    ],
    technical: [
      {
        id: 'app-not-working',
        question: 'рдРрдк рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд░рд╣рд╛, рдХреНрдпрд╛ рдХрд░реВрдВ?',
        answer: 'рдРрдк рдХреА рд╕рдорд╕реНрдпрд╛ рдХреЗ рд▓рд┐рдП: 1) рдРрдк рдХреЛ рдмрдВрдж рдХрд░рдХреЗ рджреЛрдмрд╛рд░рд╛ рдЦреЛрд▓реЗрдВ 2) рдЗрдВрдЯрд░рдиреЗрдЯ рдХрдиреЗрдХреНрд╢рди рдЪреЗрдХ рдХрд░реЗрдВ 3) рдРрдк рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ 4) рдлреЛрди рд░реАрд╕реНрдЯрд╛рд░реНрдЯ рдХрд░реЗрдВ 5) рдРрдк рд░реАрдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░реЗрдВред',
        tags: ['app-issues', 'troubleshooting', 'technical'],
        helpful: 167,
        notHelpful: 29
      },
      {
        id: 'website-slow',
        question: 'рд╡реЗрдмрд╕рд╛рдЗрдЯ рд╕реНрд▓реЛ рд▓реЛрдб рд╣реЛ рд░рд╣реА рд╣реИ',
        answer: 'рд╕реНрд▓реЛ рд▓реЛрдбрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП: 1) рдЗрдВрдЯрд░рдиреЗрдЯ рд╕реНрдкреАрдб рдЪреЗрдХ рдХрд░реЗрдВ 2) рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреИрд╢ рдХреНрд▓рд┐рдпрд░ рдХрд░реЗрдВ 3) рджреВрд╕рд░рд╛ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдЯреНрд░рд╛рдИ рдХрд░реЗрдВ 4) рдПрдб-рдмреНрд▓реЙрдХрд░ рдбрд┐рд╕реЗрдмрд▓ рдХрд░реЗрдВред рдкреАрдХ рдСрд╡рд░реНрд╕ рдореЗрдВ рдереЛрдбрд╝реА рджреЗрд░реА рд╣реЛ рд╕рдХрддреА рд╣реИред',
        tags: ['website-speed', 'performance', 'browser'],
        helpful: 134,
        notHelpful: 25
      },
      {
        id: 'compatibility',
        question: 'рдХреМрди рд╕реЗ рдбрд┐рд╡рд╛рдЗрд╕ рд╕рдкреЛрд░реНрдЯреЗрдб рд╣реИрдВ?',
        answer: 'рд╡реЗрдмрд╕рд╛рдЗрдЯ рд╕рднреА рдореЙрдбрд░реНрди рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рдХрд╛рдо рдХрд░рддреА рд╣реИред Android 5.0+ рдФрд░ iOS 10+ рдХреЗ рд▓рд┐рдП рдореЛрдмрд╛рдЗрд▓ рдРрдк рдЙрдкрд▓рдмреНрдз рд╣реИред рдЯреИрдмрд▓реЗрдЯ рдФрд░ рдбреЗрд╕реНрдХрдЯреЙрдк рдкрд░ рднреА рдлреБрд▓ рд╕рдкреЛрд░реНрдЯред',
        tags: ['compatibility', 'devices', 'requirements'],
        helpful: 98,
        notHelpful: 7
      }
    ],
    security: [
      {
        id: 'account-security',
        question: 'рдЕрдХрд╛рдЙрдВрдЯ рдХреЛ рд╕реБрд░рдХреНрд╖рд┐рдд рдХреИрд╕реЗ рд░рдЦреВрдВ?',
        answer: 'рдЕрдХрд╛рдЙрдВрдЯ рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рд▓рд┐рдП: 1) рдордЬрдмреВрдд рдкрд╛рд╕рд╡рд░реНрдб рд░рдЦреЗрдВ 2) рдХрд┐рд╕реА рдХреЗ рд╕рд╛рде рд╢реЗрдпрд░ рди рдХрд░реЗрдВ 3) Two-Factor Authentication рдЪрд╛рд▓реВ рдХрд░реЗрдВ 4) рд╕рдВрджрд┐рдЧреНрдз рдПрдХреНрдЯрд┐рд╡рд┐рдЯреА рд░рд┐рдкреЛрд░реНрдЯ рдХрд░реЗрдВред',
        tags: ['security', 'password', '2fa'],
        helpful: 178,
        notHelpful: 9
      },
      {
        id: 'data-privacy',
        question: 'рдореЗрд░рд╛ рдбреЗрдЯрд╛ рдХрд┐рддрдирд╛ рд╕реБрд░рдХреНрд╖рд┐рдд рд╣реИ?',
        answer: 'рдЖрдкрдХрд╛ рдбреЗрдЯрд╛ рдкреВрд░реНрдгрддрдГ рд╕реБрд░рдХреНрд╖рд┐рдд рд╣реИред рд╣рдо ISO 27001 рд╕рд░реНрдЯрд┐рдлрд╛рдЗрдб рд╣реИрдВ рдФрд░ GDPR рдХреЙрдореНрдкреНрд▓рд╛рдпрдВрдЯред рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЬрд╛рдирдХрд╛рд░реА рдХрднреА рдерд░реНрдб рдкрд╛рд░реНрдЯреА рдХреЗ рд╕рд╛рде рд╢реЗрдпрд░ рдирд╣реАрдВ рдХреА рдЬрд╛рддреАред',
        tags: ['privacy', 'data-protection', 'compliance'],
        helpful: 201,
        notHelpful: 13
      },
      {
        id: 'suspicious-activity',
        question: 'рд╕рдВрджрд┐рдЧреНрдз рдПрдХреНрдЯрд┐рд╡рд┐рдЯреА рджрд┐рдЦ рд░рд╣реА рд╣реИ',
        answer: 'рддреБрд░рдВрдд рдкрд╛рд╕рд╡рд░реНрдб рдмрджрд▓реЗрдВ рдФрд░ рд╕рдкреЛрд░реНрдЯ рдЯреАрдо рдХреЛ рд░рд┐рдкреЛрд░реНрдЯ рдХрд░реЗрдВред рд▓реЙрдЧрд┐рди рд╣рд┐рд╕реНрдЯреНрд░реА рдЪреЗрдХ рдХрд░реЗрдВред рдЕрдЧрд░ unauthorized рдЯреНрд░рд╛рдВрдЬреИрдХреНрд╢рди рджрд┐рдЦреЗ рддреЛ рддреБрд░рдВрдд рдмреИрдВрдХ рдФрд░ рд╣рдорд╕реЗ рд╕рдВрдкрд░реНрдХ рдХрд░реЗрдВред',
        tags: ['suspicious-activity', 'security-breach', 'report'],
        helpful: 156,
        notHelpful: 18
      }
    ]
  };

  const filteredFAQs = React.useMemo(() => {
    if (!debouncedSearch) return faqData[activeCategory] || [];
    
    const allFAQs = Object.values(faqData).flat();
    return allFAQs.filter(faq => 
      faq.question.toLowerCase().includes(debouncedSearch.toLowerCase()) ||
      faq.answer.toLowerCase().includes(debouncedSearch.toLowerCase()) ||
      faq.tags.some(tag => tag.toLowerCase().includes(debouncedSearch.toLowerCase()))
    );
  }, [activeCategory, debouncedSearch]);

  const toggleExpanded = (id) => {
    const newExpanded = new Set(expandedItems);
    if (newExpanded.has(id)) {
      newExpanded.delete(id);
      trackEvent('faq_collapsed', { questionId: id });
    } else {
      newExpanded.add(id);
      trackEvent('faq_expanded', { questionId: id });
    }
    setExpandedItems(newExpanded);
  };

  const handleVote = (id, isHelpful) => {
    if (votedItems.has(id)) return;
    
    setVotedItems(new Set([...votedItems, id]));
    trackEvent('faq_voted', { 
      questionId: id, 
      isHelpful,
      category: activeCategory 
    });
  };

  const handleContactSupport = () => {
    trackEvent('faq_contact_support_clicked');
    window.location.href = '/contact';
  };

  return (
    <>
      <Helmet>
        <title>рдЕрдХреНрд╕рд░ рдкреВрдЫреЗ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рд╕рд╡рд╛рд▓ - рднрд╛рд░рддрд╢рд╛рд▓рд╛ FAQ</title>
        <meta name="description" content="рднрд╛рд░рддрд╢рд╛рд▓рд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕рднреА рд╕рд╡рд╛рд▓реЛрдВ рдХреЗ рдЬрд╡рд╛рдмред рдСрд░реНрдбрд░, рдкреЗрдореЗрдВрдЯ, рд░рд┐рдЯрд░реНрди, рд╡рд┐рдХреНрд░реЗрддрд╛ рдФрд░ рддрдХрдиреАрдХреА рд╕рд╣рд╛рдпрддрд╛ред" />
        <meta name="keywords" content="FAQ, рд╕рд╡рд╛рд▓, рдЬрд╡рд╛рдм, рд╕рд╣рд╛рдпрддрд╛, рднрд╛рд░рддрд╢рд╛рд▓рд╛" />
      </Helmet>

      <div className="min-h-screen bg-gradient-to-br from-emerald-50 to-orange-50">
        
        {/* Hero Section */}
        <section className="bg-gradient-to-r from-emerald-600 to-orange-500 text-white py-16 pt-32">
          <div className="container mx-auto px-6 text-center">
            <motion.div
              initial={{ opacity: 0, y: 30 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.8 }}
            >
              <h1 className="text-4xl md:text-5xl font-bold mb-4">
                рдЕрдХреНрд╕рд░ рдкреВрдЫреЗ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рд╕рд╡рд╛рд▓
              </h1>
              <p className="text-xl opacity-90 mb-8">
                рдЖрдкрдХреЗ рд╕рднреА рд╕рд╡рд╛рд▓реЛрдВ рдХреЗ рдЬрд╡рд╛рдм рдпрд╣рд╛рдБ рдорд┐рд▓реЗрдВрдЧреЗ
              </p>
              <div className="text-5xl">тЭУ</div>
            </motion.div>
          </div>
        </section>

        {/* Search Section */}
        <section className="py-12 bg-white shadow-sm">
          <div className="container mx-auto px-6">
            <div className="max-w-2xl mx-auto">
              <div className="relative">
                <input
                  type="text"
                  value={searchQuery}
                  onChange={(e) => setSearchQuery(e.target.value)}
                  placeholder="рд╕рд╡рд╛рд▓ рдЦреЛрдЬреЗрдВ... рдЬреИрд╕реЗ 'рдСрд░реНрдбрд░ рдЯреНрд░реИрдХ рдХрд░рдирд╛' рдпрд╛ 'рдкреЗрдореЗрдВрдЯ'"
                  className="w-full px-6 py-4 text-lg border-2 border-emerald-200 rounded-2xl focus:border-emerald-500 focus:outline-none pl-14"
                />
                <div className="absolute left-4 top-1/2 transform -translate-y-1/2 text-2xl">ЁЯФН</div>
              </div>
              {debouncedSearch && (
                <p className="mt-4 text-emerald-600 text-center">
                  "{debouncedSearch}" рдХреЗ рд▓рд┐рдП {filteredFAQs.length} рдкрд░рд┐рдгрд╛рдо рдорд┐рд▓реЗ
                </p>
              )}
            </div>
          </div>
        </section>

        <div className="container mx-auto px-6 py-12">
          <div className="grid lg:grid-cols-4 gap-8">
            
            {/* Category Sidebar */}
            <div className="lg:col-span-1">
              <div className="bg-white rounded-2xl shadow-lg p-6 sticky top-6">
                <h2 className="text-xl font-bold text-emerald-800 mb-6">рд╢реНрд░реЗрдгрд┐рдпрд╛рдВ</h2>
                <div className="space-y-2">
                  {categories.map((category) => (
                    <button
                      key={category.id}
                      onClick={() => {
                        setActiveCategory(category.id);
                        setSearchQuery('');
                        trackEvent('faq_category_changed', { category: category.id });
                      }}
                      className={`w-full text-left p-4 rounded-xl transition-all duration-200 flex items-center space-x-3 ${
                        activeCategory === category.id && !debouncedSearch
                          ? 'bg-gradient-to-r from-emerald-500 to-orange-500 text-white'
                          : 'hover:bg-emerald-50 text-gray-700 hover:text-emerald-700'
                      }`}
                    >
                      <span className="text-xl">{category.icon}</span>
                      <span className="font-medium">{category.name}</span>
                    </button>
                  ))}
                </div>

                {/* Quick Stats */}
                <div className="mt-8 p-4 bg-emerald-50 rounded-xl">
                  <h3 className="font-semibold text-emerald-800 mb-2">рдЖрдВрдХрдбрд╝реЗ</h3>
                  <div className="text-sm text-emerald-600 space-y-1">
                    <p>тЬУ 95% рд╕рд╡рд╛рд▓реЛрдВ рдХрд╛ рддреБрд░рдВрдд рдЬрд╡рд╛рдм</p>
                    <p>тЪб рдФрд╕рдд рд░рд┐рд╕реНрдкрд╛рдВрд╕ рдЯрд╛рдЗрдо: 2 рдорд┐рдирдЯ</p>
                    <p>ЁЯСе  50,000+ рд╕рдВрддреБрд╖реНрдЯ рдЧреНрд░рд╛рд╣рдХ</p>
                  </div>
                </div>
              </div>
            </div>

            {/* FAQ Content */}
            <div className="lg:col-span-3">
              <div className="bg-white rounded-2xl shadow-lg overflow-hidden">
                
                {/* Header */}
                <div className="bg-gradient-to-r from-emerald-500 to-orange-500 text-white p-6">
                  <h2 className="text-2xl font-bold">
                    {debouncedSearch ? 'рдЦреЛрдЬ рдкрд░рд┐рдгрд╛рдо' : 
                     categories.find(c => c.id === activeCategory)?.name}
                  </h2>
                  <p className="opacity-90 mt-2">
                    {filteredFAQs.length} рд╕рд╡рд╛рд▓ рдЙрдкрд▓рдмреНрдз
                  </p>
                </div>

                {/* FAQ Items */}
                <div className="divide-y divide-gray-100">
                  <AnimatePresence>
                    {filteredFAQs.map((faq, index) => (
                      <motion.div
                        key={faq.id}
                        initial={{ opacity: 0, y: 20 }}
                        animate={{ opacity: 1, y: 0 }}
                        exit={{ opacity: 0, y: -20 }}
                        transition={{ duration: 0.3, delay: index * 0.05 }}
                        className="p-6 hover:bg-gray-50 transition-colors duration-200"
                      >
                        <button
                          onClick={() => toggleExpanded(faq.id)}
                          className="w-full text-left focus:outline-none"
                        >
                          <div className="flex items-center justify-between">
                            <h3 className="text-lg font-semibold text-gray-900 pr-4">
                              {faq.question}
                            </h3>
                            <div className={`transform transition-transform duration-200 ${
                              expandedItems.has(faq.id) ? 'rotate-180' : ''
                            }`}>
                              <span className="text-emerald-500 text-xl">тЦ╝</span>
                            </div>
                          </div>
                        </button>

                        <AnimatePresence>
                          {expandedItems.has(faq.id) && (
                            <motion.div
                              initial={{ opacity: 0, height: 0 }}
                              animate={{ opacity: 1, height: 'auto' }}
                              exit={{ opacity: 0, height: 0 }}
                              transition={{ duration: 0.3 }}
                              className="overflow-hidden"
                            >
                              <div className="mt-4 text-gray-700 leading-relaxed">
                                {faq.answer}
                              </div>

                              {/* Tags */}
                              <div className="flex flex-wrap gap-2 mt-4">
                                {faq.tags.map((tag) => (
                                  <span
                                    key={tag}
                                    className="bg-emerald-100 text-emerald-700 px-3 py-1 rounded-full text-sm"
                                  >
                                    #{tag}
                                  </span>
                                ))}
                              </div>

                              {/* Helpfulness */}
                              <div className="flex items-center justify-between mt-6 pt-4 border-t border-gray-100">
                                <div className="flex items-center space-x-4">
                                  <span className="text-sm text-gray-600">рдпрд╣ рдЬрд╡рд╛рдм рд╕рд╣рд╛рдпрдХ рдерд╛?</span>
                                  <div className="flex space-x-2">
                                    <button
                                      onClick={() => handleVote(faq.id, true)}
                                      disabled={votedItems.has(faq.id)}
                                      className="flex items-center space-x-1 px-3 py-1 rounded-lg bg-green-100 text-green-700 hover:bg-green-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"
                                    >
                                      <span>ЁЯСН</span>
                                      <span className="text-sm">{faq.helpful}</span>
                                    </button>
                                    <button
                                      onClick={() => handleVote(faq.id, false)}
                                      disabled={votedItems.has(faq.id)}
                                      className="flex items-center space-x-1 px-3 py-1 rounded-lg bg-red-100 text-red-700 hover:bg-red-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"
                                    >
                                      <span>ЁЯСО</span>
                                      <span className="text-sm">{faq.notHelpful}</span>
                                    </button>
                                  </div>
                                </div>
                                
                                {votedItems.has(faq.id) && (
                                  <span className="text-emerald-600 text-sm">тЬУ рдзрдиреНрдпрд╡рд╛рдж!</span>
                                )}
                              </div>
                            </motion.div>
                          )}
                        </AnimatePresence>
                      </motion.div>
                    ))}
                  </AnimatePresence>
                </div>

                {/* No Results */}
                {filteredFAQs.length === 0 && (
                  <div className="p-12 text-center">
                    <div className="text-6xl mb-4">ЁЯдФ</div>
                    <h3 className="text-xl font-semibold text-gray-900 mb-2">
                      рдХреЛрдИ рдкрд░рд┐рдгрд╛рдо рдирд╣реАрдВ рдорд┐рд▓рд╛
                    </h3>
                    <p className="text-gray-600 mb-6">
                      рдХреГрдкрдпрд╛ рдЕрд▓рдЧ рдХреАрд╡рд░реНрдб рд╕реЗ рдЦреЛрдЬреЗрдВ рдпрд╛ рдХрд┐рд╕реА рдЕрдиреНрдп рд╢реНрд░реЗрдгреА рдореЗрдВ рджреЗрдЦреЗрдВ
                    </p>
                    <button
                      onClick={() => setSearchQuery('')}
                      className="bg-emerald-500 text-white px-6 py-3 rounded-lg hover:bg-emerald-600 transition-colors duration-200"
                    >
                      рд╕рднреА FAQ рджреЗрдЦреЗрдВ
                    </button>
                  </div>
                )}
              </div>
            </div>
          </div>
        </div>

        {/* Contact Support Section */}
        <section className="py-16 bg-gradient-to-r from-emerald-500 to-orange-500 text-white">
          <div className="container mx-auto px-6 text-center">
            <motion.div
              initial={{ opacity: 0, y: 30 }}
              whileInView={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.8 }}
            >
              <h2 className="text-3xl font-bold mb-4">рдЕрднреА рднреА рд╕рд╡рд╛рд▓ рд╣реИ?</h2>
              <p className="text-xl opacity-90 mb-8">
                рд╣рдорд╛рд░реА рд╕рдкреЛрд░реНрдЯ рдЯреАрдо рдЖрдкрдХреА рдорджрдж рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реИ
              </p>
              <div className="flex flex-col md:flex-row gap-4 justify-center max-w-md mx-auto">
                <button
                  onClick={handleContactSupport}
                  className="bg-white text-emerald-600 px-8 py-4 rounded-xl font-semibold hover:bg-gray-100 transition-colors duration-200"
                >
                  рд╕рдкреЛрд░реНрдЯ рд╕реЗ рд╕рдВрдкрд░реНрдХ рдХрд░реЗрдВ
                </button>
                <button
                  onClick={() => window.open('https://wa.me/919876543210', '_blank')}
                  className="border-2 border-white text-white px-8 py-4 rounded-xl font-semibold hover:bg-white hover:text-emerald-600 transition-all duration-200"
                >
                  рд╡реНрд╣рд╛рдЯреНрд╕рдРрдк рдЪреИрдЯ
                </button>
              </div>
              
              <div className="mt-8 grid md:grid-cols-3 gap-6 max-w-2xl mx-auto">
                <div className="text-center">
                  <div className="text-2xl mb-2">ЁЯУз</div>
                  <p className="text-sm">рдИрдореЗрд▓ рд╕рдкреЛрд░реНрдЯ</p>
                  <p className="text-xs opacity-75">24 рдШрдВрдЯреЗ рдореЗрдВ рдЬрд╡рд╛рдм</p>
                </div>
                <div className="text-center">
                  <div className="text-2xl mb-2">ЁЯУЮ</div>
                  <p className="text-sm">рдлреЛрди рд╕рдкреЛрд░реНрдЯ</p>
                  <p className="text-xs opacity-75">9 AM - 9 PM</p>
                </div>
                <div className="text-center">
                  <div className="text-2xl mb-2">ЁЯТм</div>
                  <p className="text-sm">рд▓рд╛рдЗрд╡ рдЪреИрдЯ</p>
                  <p className="text-xs opacity-75">рддреБрд░рдВрдд рдЬрд╡рд╛рдм</p>
                </div>
              </div>
            </motion.div>
          </div>
        </section>
      </div>
    </>
  );
};

export default FAQ;